{
  "version": 3,
  "sources": ["../../src/worker/child-entrypoint.ts"],
  "sourcesContent": ["import * as utils from '../utils'\nimport { CONFIG_ENV_KEY, configSchema } from './config'\nimport { ChildProcessProps, processProps } from './is-child'\n\nexport const ENTRY_POINT = __filename\n\nconst childProcessEntrypoint = async (_props: ChildProcessProps) => {\n  const rawConfig = process.env[CONFIG_ENV_KEY]\n  if (!rawConfig) {\n    throw new Error(`Config variable ${CONFIG_ENV_KEY} was not set`)\n  }\n  const config = configSchema.parse(JSON.parse(rawConfig))\n\n  if (config.type === 'code') {\n    utils.require.requireJsCode(config.code)\n  }\n  if (config.type === 'file') {\n    utils.require.requireJsFile(config.file)\n  }\n}\n\nif (processProps.type === 'child') {\n  // here we are in the child process\n  void childProcessEntrypoint(processProps)\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAuB;AACvB,oBAA6C;AAC7C,sBAAgD;AAEzC,MAAM,cAAc;AAE3B,MAAM,yBAAyB,OAAO,WAA8B;AAClE,QAAM,YAAY,QAAQ,IAAI;AAC9B,MAAI,CAAC,WAAW;AACd,UAAM,IAAI,MAAM,mBAAmB,0CAA4B;AAAA,EACjE;AACA,QAAM,SAAS,2BAAa,MAAM,KAAK,MAAM,SAAS,CAAC;AAEvD,MAAI,OAAO,SAAS,QAAQ;AAC1B,UAAM,QAAQ,cAAc,OAAO,IAAI;AAAA,EACzC;AACA,MAAI,OAAO,SAAS,QAAQ;AAC1B,UAAM,QAAQ,cAAc,OAAO,IAAI;AAAA,EACzC;AACF;AAEA,IAAI,6BAAa,SAAS,SAAS;AAEjC,OAAK,uBAAuB,4BAAY;AAC1C;",
  "names": []
}
